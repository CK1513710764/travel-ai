# 项目上下文: AI 旅行规划师 (v2.0)

## 1. 项目目标 (Project Goal)

一个基于 Web 的 AI 旅行规划师，通过用户的语音或文本输入，自动生成包含地图可视化、预算分析和精美图片的个性化旅行路线。

## 2. 核心功能 (Core Features)

- **智能行程规划**: 用户可通过多模态输入提供规划要素（目的地、日期、预算、**同行人数**、旅行偏好），由 AI 自动生成详尽的每日行程（含景点、餐厅、交通、住宿建议）。
- **多模态输入**: 强制要求支持**语音输入**，同时兼容文本输入。
- **费用预算与管理**: AI 辅助进行初始预算分析，并提供工具让用户记录旅途中的实际开销。
- **用户账户系统**: 支持用户注册和登录，以实现数据持久化。
- **数据云端同步**: 用户的旅行计划、偏好、开销等数据与账户绑定，保存在云端，支持多设备查看和修改。
- **地图为主的交互体验**:
  - **地图可视化**: 在地图上以标记点（Markers）的形式清晰展示行程中的各个地点。
  - **路线规划**: 可在地图上绘制每日的建议访问路线。
- **美观的视觉呈现**: 行程展示中应包含与景点或城市相关的**美观图片**，提升用户体验。

## 3. 关键技术性需求 (Key Technical Requirements)

- **Docker 化部署 (Dockerized Deployment)**: 整个应用（前端和后端）必须被容器化，并提供 `docker-compose` 文件，以实现一键启动和运行。这是项目的**核心交付要求**。
- **安全密钥管理 (Secure Key Management)**: 严禁在代码库中硬编码任何 API Key。所有密钥必须通过**环境变量** (`.env` 文件)进行管理，以便在开发和部署时灵活配置。

## 4. 技术栈与选型理由 (Technology Stack & Rationale)

- **前端 (Frontend)**: **React (Vite)**
  - **理由**: 拥有强大的生态系统和丰富的 UI 组件库，便于实现作业要求的“地图为主”和“美观”的交互界面。Vite 提供极致的开发效率。
- **后端 (Backend)**: **Node.js (Express)**
  - **理由**: 轻量且高性能，使用 JavaScript/TypeScript 与前端保持语言统一，降低了开发复杂性，非常适合作为 API 服务的中间层。
- **数据库/认证 (Database/Auth)**: **Supabase**
  - **理由**: 完美符合作业建议。其提供的一体化解决方案（数据库、认证、存储）能极大加速开发，让我们能专注于核心功能。
- **大语言模型 (LLM API)**: **阿里云百炼**
  - **理由**: 作业明确指出助教持有阿里云的 Key，优先选用此服务可以**免去提交 Key 的麻烦**，简化助教的批改流程。
- **地图 API (Map API)**: **高德地图 API**
  - **理由**: 符合作业建议。在国内拥有数据精准、文档详尽的优势，其丰富的 JS API 能够很好地支持地图可视化和路线规划功能。
- **语音识别 (Voice Recognition)**: **浏览器 Web Speech API**
  - **理由**: 虽然作业提到了科大讯飞，但 Web Speech API 是现代浏览器的内置功能，**无需额外申请和管理 API Key**，极大地简化了开发和部署。对于课程项目而言，这是一个在满足功能要求（语音输入）的同时，兼顾开发便捷性的高效选择。
